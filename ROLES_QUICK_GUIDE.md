# 🚀 دليل سريع: نظام الأدوار والصلاحيات

## 📍 الوصول للصفحات

### 1️⃣ إدارة الأدوار
```
Dashboard → تبويب "الصلاحيات"
أو مباشرة: Navigate to UserRolesManagement component
```

### 2️⃣ توثيق النظام
```
URL: /system-documentation
أو من: UserRolesManagement → زر "توثيق النظام"
```

---

## 🎯 استخدام إدارة الأدوار

### خطوات تعيين دور:
1. **أدخل UUID المستخدم** في حقل "معرّف المستخدم"
2. **اختر الدور** من البطاقات الملونة الأربعة
3. **راجع الصلاحيات** في قسم "معاينة الصلاحيات"
4. **اضغط "تحديث الدور"** للحفظ

### معلومات تظهر تلقائياً:
- ✅ الدور الحالي للمستخدم
- ✅ الحالة (نشط/معطل)
- ✅ التوثيق (موثق/غير موثق)

---

## 👑 الأدوار الأربعة

### 1. مدير النظام (Admin)
- **اللون:** Purple → Pink
- **الصلاحيات:** غير محدودة (∞)
- **الأنسب لـ:** إدارة المنصة

### 2. مكتب عقاري (Office)
- **اللون:** Blue → Cyan
- **الصلاحيات:** عقارات وصور غير محدودة، 50 مميزة
- **الأنسب لـ:** المكاتب العقارية

### 3. وكيل عقاري (Agent)
- **اللون:** Green → Emerald
- **الصلاحيات:** 100 عقار، 20 صورة، 10 مميزة، 10GB
- **الأنسب لـ:** الوكلاء الأفراد

### 4. ناشر عقارات (Publisher)
- **اللون:** Gray
- **الصلاحيات:** 20 عقار، 10 صور، 2 مميزة، 2GB
- **الأنسب لـ:** الأفراد

---

## 🔗 الروابط السريعة

من صفحة إدارة الأدوار:
- → إدارة المستخدمين
- → إضافة مستخدم جديد
- → توثيق النظام

من صفحة التوثيق:
- → إدارة المستخدمين
- → إدارة الأدوار
- → إضافة مستخدم

---

## ⚠️ متطلب مهم

**قبل الاستخدام:**
```sql
-- نفذ هذا الملف في Supabase:
RESTORE_AND_PROTECT_ADMIN.sql
```

ثم:
1. سجل خروج
2. سجل دخول
3. ابدأ الاستخدام

---

## 🎨 المكونات المستخدمة

```tsx
import { RoleBadge } from '@/components/Users';
```

**الأشكال المتاحة:**
- `variant="default"` - Badge عادي
- `variant="compact"` - صغير
- `variant="detailed"` - مفصل

---

## 📊 مثال استخدام

```tsx
// في أي مكون
import { RoleBadge } from '@/components/Users';

<RoleBadge role="admin" variant="detailed" />
<RoleBadge role="office" />
<RoleBadge role="agent" variant="compact" />
```

---

## 🆘 الدعم

إذا واجهت مشكلة:
1. تأكد من تنفيذ `RESTORE_AND_PROTECT_ADMIN.sql`
2. تأكد من تسجيل الدخول كمدير
3. راجع `ROLES_SYSTEM_COMPLETE_REPORT.md`

---

**آخر تحديث:** 17 أكتوبر 2025
