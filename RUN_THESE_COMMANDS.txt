# ========================================
# 🚀 نفذ هذه الأوامر في PowerShell
# ========================================

# افتح PowerShell جديد (لا تستخدم الذي يشغل npm run dev)
# انسخ والصق كل أمر والضغط Enter

# ========================================
# الخطوة 1: تثبيت Supabase CLI
# ========================================
npm install -g supabase

# ========================================
# الخطوة 2: تسجيل الدخول
# ========================================
# سيفتح المتصفح - اضغط "Allow access"
supabase login

# ========================================
# الخطوة 3: ربط المشروع
# ========================================
# احصل على YOUR_PROJECT_ID من:
# https://supabase.com/dashboard/project/_/settings/general
# انسخ "Reference ID" واستبدله بدلاً من YOUR_PROJECT_ID

supabase link --project-ref YOUR_PROJECT_ID

# ========================================
# الخطوة 4: نشر Edge Function
# ========================================
supabase functions deploy create-user

# ========================================
# الخطوة 5: التحقق من النشر
# ========================================
supabase functions list

# يجب أن ترى:
# ┌─────────────┬─────────┬─────────────────────────────────────┐
# │ NAME        │ VERSION │ URL                                  │
# ├─────────────┼─────────┼─────────────────────────────────────┤
# │ create-user │ v1      │ https://YOUR_ID.supabase.co/...     │
# └─────────────┴─────────┴─────────────────────────────────────┘

# ========================================
# ✅ تم! الآن اختبر:
# ========================================
# افتح: http://localhost:8082/admin/add-user
# أضف مستخدم جديد وتحقق من النجاح
