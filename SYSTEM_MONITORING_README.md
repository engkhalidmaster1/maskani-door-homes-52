# ุฏููู ุฅุนุฏุงุฏ ูุธุงู ูุฑุงูุจุฉ ุญุงูุฉ ุงููุธุงู

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทููุฑ ูุธุงู ูุฑุงูุจุฉ ุดุงูู ูุญุงูุฉ ุงููุธุงู ูุฌูุน ุจูุงูุงุช ุญููููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุนุฑุถูุง ูู ููุญุฉ ุงูุชุญูู.

## ุงููููุงุช ุงููุทููุจุฉ

### 1. `CREATE_SYSTEM_MONITORING_TABLES.sql`
ูุญุชูู ุนูู:
- ุฌุฏูู `system_metrics`: ุชุฎุฒูู ูุคุดุฑุงุช ุงููุธุงู (CPU, ุฐุงูุฑุฉ, ุงุชุตุงูุงุชุ ุฅูุฎ)
- ุฌุฏูู `system_alerts`: ุชุฎุฒูู ุงูุชูุจููุงุช ูุงูุฅุดุนุงุฑุงุช
- ุฌุฏูู `backup_logs`: ุณุฌู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
- ุณูุงุณุงุช RLS ูููุฏุฑุงุก ูุงูุฅุฏุงุฑููู ููุท

### 2. `CREATE_SYSTEM_MONITORING_FUNCTIONS.sql`
ูุญุชูู ุนูู:
- `get_system_metrics()`: ุงุณุชุฑุฌุงุน ูุคุดุฑุงุช ุงููุธุงู ุงูุญุงููุฉ
- `get_active_alerts()`: ุงุณุชุฑุฌุงุน ุงูุชูุจููุงุช ุงููุดุทุฉ
- `resolve_alert()`: ุญู ุชูุจูู ูุญุฏุฏ
- `create_system_alert()`: ุฅูุดุงุก ุชูุจูู ุฌุฏูุฏ
- `update_system_metrics()`: ุชุญุฏูุซ ูุคุดุฑุงุช ุงููุธุงู

### 3. `UPDATE_SYSTEM_METRICS.sql`
ูุญุชูู ุนูู:
- ุชุญุฏูุซ ุฏูุฑู ูููุคุดุฑุงุช
- ุฅูุดุงุก ุชูุจููุงุช ุชููุงุฆูุฉ ุนูุฏ ุชุฌุงูุฒ ุงูุญุฏูุฏ
- ุชูุธูู ุงูุจูุงูุงุช ุงููุฏููุฉ
- ุชุณุฌูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

## ุฎุทูุงุช ุงูุฅุนุฏุงุฏ

### 1. ุชุดุบูู Supabase CLI
```bash
# ุชุณุฌูู ุงูุฏุฎูู
supabase login

# ุฑุจุท ุงููุดุฑูุน (ุงุณุชุจุฏู PROJECT_ID ุจูุนุฑู ูุดุฑูุนู)
supabase link --project-ref PROJECT_ID
```

### 2. ุชูููุฐ ูููุงุช SQL
```bash
# ุชุดุบูู ุงูุฅุนุฏุงุฏ ุงูุชููุงุฆู
setup_system_monitoring.bat

# ุฃู ูุฏููุงู:
supabase db push --file CREATE_SYSTEM_MONITORING_TABLES.sql
supabase db push --file CREATE_SYSTEM_MONITORING_FUNCTIONS.sql
supabase db push --file UPDATE_SYSTEM_METRICS.sql
```

### 3. ุฅุนุฏุงุฏ ุงูุชุญุฏูุซ ุงูุฏูุฑู
```bash
# ุฅูุดุงุก cron job ููุชุญุฏูุซ ูู 5 ุฏูุงุฆู
crontab -e

# ุฅุถุงูุฉ ุงูุณุทุฑ ุงูุชุงูู:
*/5 * * * * psql "postgresql://[username]:[password]@[host]:[port]/[database]" -f UPDATE_SYSTEM_METRICS.sql
```

## ุงููุคุดุฑุงุช ุงููุฑุงูุจุฉ

### ูุคุดุฑุงุช ุงููุธุงู ุงูุฃุณุงุณูุฉ
- **ุงูุงุชุตุงูุงุช ุงููุดุทุฉ**: ุนุฏุฏ ุงููุณุชุฎุฏููู ุงููุชุตููู ุญุงููุงู
- **ุฒูู ุงูุงุณุชุฌุงุจุฉ**: ูุชูุณุท ุฒูู ุงูุฑุฏ (P95)
- **ุงุณุชุฎุฏุงู CPU**: ูุณุจุฉ ุงุณุชุฎุฏุงู ุงููุนุงูุฌ
- **ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ**: ูุณุจุฉ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
- **ูุนุฏู ุงูุฃุฎุทุงุก**: ูุณุจุฉ ุงูุทูุจุงุช ุงููุงุดูุฉ
- **ูุฏุฉ ุงูุชุดุบูู**: ุงูููุช ููุฐ ุขุฎุฑ ุฅุนุงุฏุฉ ุชุดุบูู
- **ุขุฎุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ**: ุชุงุฑูุฎ ุขุฎุฑ backup

### ุญุฏูุฏ ุงูุชูุจููุงุช
- ๐ด **ุฎุทุฃ**: ุงุชุตุงูุงุช > 80ุ ุฃุฎุทุงุก > 1%ุ CPU > 90%
- ๐ก **ุชุญุฐูุฑ**: ุงุชุตุงูุงุช > 60ุ ุงุณุชุฌุงุจุฉ > 500ms
- ๐ต **ูุนูููุงุช**: ุชุญุฏูุซุงุช ูุฅุดุนุงุฑุงุช ุฑูุชูููุฉ

## ุงูุฏูุงู ุงููุชุงุญุฉ ูู ุงูุชุทุจูู

### `useSystemMetrics()`
```typescript
const { metrics, isLoading, refetch } = useSystemMetrics();
```

### `useAlerts()`
```typescript
const { alerts, resolveAlert, createAlert } = useAlerts();
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ:
1. **ุฎุทุฃ ูู ุงูุตูุงุญูุงุช**: ุชุฃูุฏ ูู ุฃู ุงููุณุชุฎุฏู ูุฏูุฑ ุฃู ุฅุฏุงุฑู
2. **ุจูุงูุงุช ูุงุฑุบุฉ**: ูู ุจุชุดุบูู `UPDATE_SYSTEM_METRICS.sql` ูุฅุฏุฑุงุฌ ุจูุงูุงุช ุชุฌุฑูุจูุฉ
3. **ุฎุทุฃ ูู RPC**: ุชุฃูุฏ ูู ุฅูุดุงุก ุฌููุน ุงูุฏูุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงุฎุชุจุงุฑ ุงููุธุงุฆู:
```sql
-- ุงุฎุชุจุงุฑ ุฌูุจ ุงููุคุดุฑุงุช
SELECT * FROM get_system_metrics();

-- ุงุฎุชุจุงุฑ ุฌูุจ ุงูุชูุจููุงุช
SELECT * FROM get_active_alerts();

-- ุงุฎุชุจุงุฑ ุฅูุดุงุก ุชูุจูู
SELECT create_system_alert('warning', 'ุชูุจูู ุชุฌุฑูุจู', 'ูุฐุง ุชูุจูู ููุงุฎุชุจุงุฑ');
```

## ุงูุตูุงูุฉ

### ุงูุชูุธูู ุงูุฏูุฑู:
- ุงูุชูุจููุงุช ุงููุญูููุฉ ุชุฒุงู ุชููุงุฆูุงู ุจุนุฏ 30 ููู
- ุณุฌูุงุช ุงููุคุดุฑุงุช ุชุฒุงู ุชููุงุฆูุงู ุจุนุฏ 7 ุฃูุงู

### ุงููุณุฎ ุงูุงุญุชูุงุทู:
- ูุชู ุชุณุฌูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุชููุงุฆูุงู ููููุงู
- ูููู ุนุฑุถ ุงูุณุฌู ูู ุฌุฏูู `backup_logs`

## ููุงุญุธุงุช ูููุฉ

1. ุฌููุน ุงูุฏูุงู ูุญููุฉ ุจู RLS - ููุท ุงููุฏุฑุงุก ูููููู ุงููุตูู
2. ุงูุจูุงูุงุช ุชูุญุฏุซ ูู 5 ุฏูุงุฆู ูู ุงูุชุทุจูู
3. ูู ุญุงูุฉ ูุดู ุงูุงุชุตุงูุ ูุนุฑุถ ุงูุชุทุจูู ุจูุงูุงุช ุงุญุชูุงุทูุฉ
4. ุงูุชูุจููุงุช ุชููุดุฃ ุชููุงุฆูุงู ุนูุฏ ุชุฌุงูุฒ ุงูุญุฏูุฏ ุงููุญุฏุฏุฉ